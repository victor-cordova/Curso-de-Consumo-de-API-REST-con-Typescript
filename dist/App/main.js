import { CatService } from "./services/cat.service.js";
import { HandleDom } from "./view/handleDom.js";
import { HandleEvents } from "./view/handleEvents.js";
import { LoadCatImage } from "./LoadCatImage.js";
import { LocalStorage } from "./localStorage.js";
const API_KEY = "707899fb-0e66-4594-a01a-e6f5879e0d8b";
const API_URL_FAVORITES = "https://api.thecatapi.com/v1/favourites";
const API_URL_RANDOM = "https://api.thecatapi.com/v1/images/search?limit=2&size=small&mime_types=jpg,png";
const API_URL_UPLOAD = "https://api.thecatapi.com/v1/images/upload";
const LS_NAME_FAVORITE = "favorite-images";
const LS_NAME_RANDOM = "random-images";
const containerFavoriteImages = document.getElementById("containerImages");
const form = document.getElementById("uploadForm");
const input = document.getElementById("file");
const spanError = document.getElementById("errorMessage");
const thumbnailImage = document.getElementById("thumbnailImage");
const updateImagesButton = document.getElementById("updateImagesButton");
const uploadButton = document.getElementById("uploadButton");
const thumbnailText = document.getElementById("thumbnailText");
const images = document.getElementsByClassName("picture__img");
const saveOnFavoritesButtons = document.getElementsByClassName("picture__favorite-button");
const reader = new FileReader();
const lStorage = new LocalStorage();
const handleEvents = new HandleEvents(saveOnFavoritesButtons, updateImagesButton, uploadButton, input);
const handleDom = new HandleDom(spanError, images, containerFavoriteImages, form, thumbnailImage, thumbnailText);
const catService = new CatService(API_KEY, API_URL_FAVORITES, API_URL_RANDOM, API_URL_UPLOAD);
const loadCatImage = new LoadCatImage(catService, [handleEvents, handleDom], lStorage, [LS_NAME_FAVORITE, LS_NAME_RANDOM], reader);
loadCatImage.run();
export { loadCatImage };
